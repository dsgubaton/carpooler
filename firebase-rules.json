{
  "rules": {
    "events": {
      "$eventId": {
        // Anyone can read an event if they have the event ID (via URL)
        ".read": true,

        // Anyone can write to an event (for collaborative editing)
        // In production, you may want to add authentication
        ".write": true,

        // Data validation
        ".validate": "newData.hasChildren(['eventName', 'cars', 'unassignedPassengers'])",

        "eventName": {
          ".validate": "newData.isString() && newData.val().length <= 100"
        },

        "cars": {
          ".validate": "newData.hasChildren()"
        },

        "unassignedPassengers": {
          ".validate": "newData.hasChildren() || !newData.exists()"
        },

        "lastUpdated": {
          ".validate": "newData.isNumber()"
        }
      }
    }
  }
}
